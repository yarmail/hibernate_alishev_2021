66 Методы get() и load()

Разница между этими методами

Get

return session.get(Person.class, id);
Сделали запрос к БД и сразу получили человека

-----

Load

Person personProxy = session.load(Person.class, id)
Не делает запрос к БД и возвращает Proxy объект
("фейковый"). Load - ленивый GET
возвразает Proxy объект не делая запрос к БД
(все поля имеют значение null, если объект ранее
не загружался в память

sout personProxy.getAge
Но если мы вызываем геттер на каком-то из полей,
уже делается запрос к БД и достаются значения всех(!) полей

Когда полезен Load
load2.png

Создаем новый товар Ему нужно назначить владельца
Нам нужен этот объект только для выстраивания связи с новым
товаром.
Значения полей этого человека не нужны, поэтому не
будем делать лишний запрос к БД